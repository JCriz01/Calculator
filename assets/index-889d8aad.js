(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const N of c.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&l(N)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function O(e,t){return e+t}function C(e,t){return e-t}function g(e,t){return e*t}function x(e,t){if(t!=0)return e/t}function b(e,t,n){if(t==="+")return O(e,n);if(t==="-")return C(e,n);if(t==="*")return g(e,n);if(t==="/")return x(e,n)}function v(e){let t=0,n=0;for(let l=0;l<e.length;l++)e[l]==="*"?n++:e[l]==="/"&&t++;return n+t}let f,s=0,d="";function q(e){let t=e.indexOf("*"),n=e.indexOf("/");if(n!==-1&&t!==-1){if(t<n){f=Number(e[t-1]),e[t-1]="!",d=e[t],e[t]="!",s=Number(e[t+1]),e[t+1]="!";let l=b(f,d,s);return e=e.filter(o=>{if(o!="!")return o}),e.splice(t-1,0,l),e}else if(n<t){f=Number(e[n-1]),e[n-1]="!",d=e[n],e[n]="!",s=Number(e[n+1]),e[n+1]="!";let l=b(f,d,s);return e=e.filter(o=>{if(o!="!")return o}),e.splice(n-1,0,l),e}}else if(t!==-1){f=Number(e[t-1]),e[t-1]="!",d=e[t],e[t]="!",s=Number(e[t+1]),e[t+1]="!";let l=b(f,d,s);return e=e.filter(o=>{if(o!="!")return o}),e.splice(t-1,0,l),e}else if(n!==-1){f=Number(e[n-1]),e[n-1]="!",d=e[n],e[n]="!",s=Number(e[n+1]),e[n+1]="!";let l=b(f,d,s);return e=e.filter(o=>{if(o!="!")return o}),e.splice(n-1,0,l),e}else return e}function L(e){let t=v(e);for(;e.length>1;){for(let l=0;l<t;l++)e=q(e);if(f=Number(e[0]),e.shift(),e[0]=="=")return f;d=e[0],e.shift(),s=Number(e[0]),e.shift();let n=b(f,d,s);e.unshift(n.toString())}return Number(e[0])}let h="",i=[],u=[];const p=document.querySelector(".output-box").children[0];p.textContent="";function m(e){for(let t=e.length;t>=0;t--)e.shift();return e}function $(e){let t="";for(let n=e.length-1,l=0;n>=0;n--,l++)if(e[l]!=" "){if(e[l]==="+"&&(u.push(t),u.push(e[l]),t="",l+=1),e[l]==="-"&&(u.push(t),u.push(e[l]),t="",l+=1),e[l]==="*"&&(u.push(t),u.push(e[l]),t="",l+=1),e[l]==="/"&&(u.push(t),u.push(e[l]),t="",l+=1),e[l]==="=")return u.push(t),u.push("="),console.log(`math stack is ${u}`),console.log("Done with the calcuation(pressed =)"),L(u);t+=e[l],console.log(`Index ${l}, expression is: ${t}`)}}function w(e){if(e==="Clear")p.textContent="",h="",i=m(i),u=m(u);else if(e==="."){for(let t=0;t<h.length;t++)h[t]=="."&&(h="ERROR",i=m(i),u=m(u),p.textContent=h,h="");h+=e,i.push(e),p.textContent+=e}else if(e==="="){i.push(e);let t=$(i);i=m(i),i.push(""+t),u=m(u),console.log(`The total is ${t}, the calculation queue is ${i}`),t!==null?p.textContent=""+t:p.textContent="Not on my watch!"}else p.textContent+=e,h+=e,i.push(e),console.log(`Calculation Queue is: ${i}`)}function B(){document.querySelector(".calculator-Body").querySelectorAll("button"),document.querySelector(".calculator-Body").addEventListener("click",n=>{let l=n.target;if(l.localName=="button"){console.log(l.textContent);let o=l.textContent;w(o)}})}B();
